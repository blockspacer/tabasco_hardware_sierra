<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Sierra RIL: hardware/sierra/swigps/swigps_gingerplus.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Sierra RIL
   &#160;<span id="projectnumber">R0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_ac7df9380ba1d5d3d602df81a60439d8.html">hardware</a></li><li class="navelem"><a class="el" href="dir_d7ff66cbb8db4abd845e01a316f08f99.html">sierra</a></li><li class="navelem"><a class="el" href="dir_bfe3f8ecfacd0f43b098827e2f95c85a.html">swigps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">swigps_gingerplus.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="swiril__log_8h_source.html">swiril_log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="swigps__sgi_8h_source.html">swigps_sgi.h</a>&quot;</code><br/>
<code>#include &lt;hardware/gps.h&gt;</code><br/>
<code>#include &lt;cutils/properties.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a7ce0df38eb467e59f209470c8f5ac4e6">LOG_TAG</a>&#160;&#160;&#160;&quot;gps_ginp&quot;</td></tr>
<tr class="separator:a7ce0df38eb467e59f209470c8f5ac4e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06518335ae8a65694033d23f8dfc60ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a06518335ae8a65694033d23f8dfc60ab">GPS_DEBUG</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a06518335ae8a65694033d23f8dfc60ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e1adc61c23126e1f3434485958469f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a42e1adc61c23126e1f3434485958469f">DFR</a>(...)&#160;&#160;&#160;LOGD(__VA_ARGS__)</td></tr>
<tr class="separator:a42e1adc61c23126e1f3434485958469f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74021f021dcdfbb22891787b79c5529d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a74021f021dcdfbb22891787b79c5529d">D</a>(...)&#160;&#160;&#160;((void)0)</td></tr>
<tr class="separator:a74021f021dcdfbb22891787b79c5529d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d804a4189d49d8e2e939d7b31da2b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#ab3d804a4189d49d8e2e939d7b31da2b0">PROPERTY_VERSION_BASEBAND</a>&#160;&#160;&#160;&quot;gsm.version.baseband&quot;</td></tr>
<tr class="separator:ab3d804a4189d49d8e2e939d7b31da2b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50be2cefcc59279e1b010b58b2fe4f74"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a50be2cefcc59279e1b010b58b2fe4f74">BASEBAND_9x15</a>&#160;&#160;&#160;&quot;SWI9X15&quot;</td></tr>
<tr class="separator:a50be2cefcc59279e1b010b58b2fe4f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abd5bdfd33b6ae1ecd8c124d7e218f44e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#abd5bdfd33b6ae1ecd8c124d7e218f44e">swigps_init_state</a> (<a class="el" href="structGpsState.html">GpsState</a> *pstate)</td></tr>
<tr class="separator:abd5bdfd33b6ae1ecd8c124d7e218f44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb79716df2b7ff64fc79adba59643cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#aafb79716df2b7ff64fc79adba59643cb">swigps_init_state_thread</a> (<a class="el" href="structGpsState.html">GpsState</a> *pstate)</td></tr>
<tr class="separator:aafb79716df2b7ff64fc79adba59643cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ce365603659f10855ea2b3095160eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a33ce365603659f10855ea2b3095160eb">swigps_init_pdsDefs</a> (<a class="el" href="structGpsState.html">GpsState</a> *pstate)</td></tr>
<tr class="separator:a33ce365603659f10855ea2b3095160eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50dd8687ef888abd35cdde7bc3fb2a35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a50dd8687ef888abd35cdde7bc3fb2a35">swigps_checkGpsCallbacks</a> (GpsCallbacks *Callbackp)</td></tr>
<tr class="separator:a50dd8687ef888abd35cdde7bc3fb2a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65fa529eda3a8930cdf32c7eacba7197"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a65fa529eda3a8930cdf32c7eacba7197">swigps_set_position_mode</a> (GpsPositionMode mode, GpsPositionRecurrence recurrence, uint32_t min_interval, uint32_t pref_accuracy, uint32_t pref_time)</td></tr>
<tr class="separator:a65fa529eda3a8930cdf32c7eacba7197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae005eee0a9ea8b21b75871e4876b1e06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#ae005eee0a9ea8b21b75871e4876b1e06">swigps_report_state</a> (GpsCallbacks *cbklistp, GpsStatusValue state)</td></tr>
<tr class="separator:ae005eee0a9ea8b21b75871e4876b1e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e24e3104ce4d928389b2ace91ba3e6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a5e24e3104ce4d928389b2ace91ba3e6f">swigps_create_timer_thread</a> (<a class="el" href="structGpsState.html">GpsState</a> *statep)</td></tr>
<tr class="separator:a5e24e3104ce4d928389b2ace91ba3e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29eee264cdc4cb0bf1768dce6bc72165"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a29eee264cdc4cb0bf1768dce6bc72165">swigps_create_state_thread</a> (<a class="el" href="structGpsState.html">GpsState</a> *statep)</td></tr>
<tr class="separator:a29eee264cdc4cb0bf1768dce6bc72165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeb2aa0bc876aca71a9a830330e47c37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#adeb2aa0bc876aca71a9a830330e47c37">swigps_create_monitor_thread</a> (<a class="el" href="structGpsState.html">GpsState</a> *statep)</td></tr>
<tr class="separator:adeb2aa0bc876aca71a9a830330e47c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a15f5f57315813f8d36b0ea2c7a39890c"><td class="memItemLeft" align="right" valign="top">const GpsInterface&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#a15f5f57315813f8d36b0ea2c7a39890c">swiGpsInterface</a></td></tr>
<tr class="separator:a15f5f57315813f8d36b0ea2c7a39890c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa604eb941e349b6869cb53d74f87d0e2"><td class="memItemLeft" align="right" valign="top">const AGpsInterface&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="swigps__gingerplus_8c.html#aa604eb941e349b6869cb53d74f87d0e2">swiAgpsInterface</a></td></tr>
<tr class="separator:aa604eb941e349b6869cb53d74f87d0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a50be2cefcc59279e1b010b58b2fe4f74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASEBAND_9x15&#160;&#160;&#160;&quot;SWI9X15&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a74021f021dcdfbb22891787b79c5529d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define D</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;((void)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a42e1adc61c23126e1f3434485958469f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DFR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;LOGD(__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a06518335ae8a65694033d23f8dfc60ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GPS_DEBUG&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7ce0df38eb467e59f209470c8f5ac4e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TAG&#160;&#160;&#160;&quot;gps_ginp&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab3d804a4189d49d8e2e939d7b31da2b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROPERTY_VERSION_BASEBAND&#160;&#160;&#160;&quot;gsm.version.baseband&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a50dd8687ef888abd35cdde7bc3fb2a35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swigps_checkGpsCallbacks </td>
          <td>(</td>
          <td class="paramtype">GpsCallbacks *&#160;</td>
          <td class="paramname"><em>Callbackp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GpsCallbacks structure size validation for Gingerbread. </p>
<p>This function ensures the size field of the GpsCallbacks structure passed when the interface was opened is the same size as we're expecting. If not an error is returned</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callbackp</td><td>Pointer to GpsCallback structure passed to us when the GPS module was started up</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 - The sizes match -1 - There is a size mismatch</dd></dl>
<dl class="section user"><dt>Abort: </dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="adeb2aa0bc876aca71a9a830330e47c37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swigps_create_monitor_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGpsState.html">GpsState</a> *&#160;</td>
          <td class="paramname"><em>statep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the monitor thread for Gingerbread+ android versions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statep</td><td>[in] Pointer to this package's main runtime control block</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 - Always</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called during the initial call to the <a class="el" href="swigps_8c.html#a91ca55c21150057105556e43ec85ee1c" title="Opens the interface and assigns the caller&#39;s callback function pointers through this interface...">swigps_init()</a> function, which is really the context of the Gps Location Service </dd></dl>

</div>
</div>
<a class="anchor" id="a29eee264cdc4cb0bf1768dce6bc72165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swigps_create_state_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGpsState.html">GpsState</a> *&#160;</td>
          <td class="paramname"><em>statep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the main state thread for Gingerbread+ android versions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statep</td><td>[in] Pointer to this package's main runtime control block</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 - Always</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called during the initial call to the <a class="el" href="swigps_8c.html#a91ca55c21150057105556e43ec85ee1c" title="Opens the interface and assigns the caller&#39;s callback function pointers through this interface...">swigps_init()</a> function, which is really the context of the Gps Location Service </dd></dl>

</div>
</div>
<a class="anchor" id="a5e24e3104ce4d928389b2ace91ba3e6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int swigps_create_timer_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGpsState.html">GpsState</a> *&#160;</td>
          <td class="paramname"><em>statep</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create the timer thread for Gingerbread+ android versions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statep</td><td>[in] Pointer to this package's main runtime control block</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 - Always</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function must be called during the initial call to the <a class="el" href="swigps_8c.html#a91ca55c21150057105556e43ec85ee1c" title="Opens the interface and assigns the caller&#39;s callback function pointers through this interface...">swigps_init()</a> function, which is really the context of the Gps Location Service </dd></dl>

</div>
</div>
<a class="anchor" id="a33ce365603659f10855ea2b3095160eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swigps_init_pdsDefs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGpsState.html">GpsState</a> *&#160;</td>
          <td class="paramname"><em>pstate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the Position Determination default values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pstate</td><td>pointer to the gps state thread control block</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="abd5bdfd33b6ae1ecd8c124d7e218f44e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swigps_init_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGpsState.html">GpsState</a> *&#160;</td>
          <td class="paramname"><em>pstate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>swigps state control block initialization routine for Gingerbread and newer versions of Android </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pstate</td><td>Pointer to swigps state control block</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section user"><dt>Abort: </dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="aafb79716df2b7ff64fc79adba59643cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swigps_init_state_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGpsState.html">GpsState</a> *&#160;</td>
          <td class="paramname"><em>pstate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Swigps main state thread initialization routine for Gingerbread and beyond. </p>
<p>Called with the GPS State thread starts but before its infinite loop begins and performs any version-specific initialization required</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">statep</td><td>Pointer to the swigps state control block structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section user"><dt>Abort: </dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd>none </dd></dl>

</div>
</div>
<a class="anchor" id="ae005eee0a9ea8b21b75871e4876b1e06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void swigps_report_state </td>
          <td>(</td>
          <td class="paramtype">GpsCallbacks *&#160;</td>
          <td class="paramname"><em>cbklistp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GpsStatusValue&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GPS Status Callback function - called from gps state thread whenever there is a change in the modem's state that needs to be reported to the GPS Location Service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbkfp</td><td>[in] Pointer to the callback function originally supplied by the location service when the swigps interface was opened </td></tr>
    <tr><td class="paramname">state</td><td>[in] The new state to be reported to the gps location service</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The GpsStatus structure differs from Froyo to the newer Android releases </dd></dl>

</div>
</div>
<a class="anchor" id="a65fa529eda3a8930cdf32c7eacba7197"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int swigps_set_position_mode </td>
          <td>(</td>
          <td class="paramtype">GpsPositionMode&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GpsPositionRecurrence&#160;</td>
          <td class="paramname"><em>recurrence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>min_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pref_accuracy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>pref_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allows the application to configure the GPS engine in the modem, specifying various parameters. </p>
<p>NOTE, not all of the calling arguments have a corresponding QMI setting so these are ignored</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>[in] Standalone, MS based or MS assisted </td></tr>
    <tr><td class="paramname">recurrence</td><td>[in] GPS_POSITION_RECURRENCE_PERIODIC or GPS_POSITION_RECURRENCE_SINGLE </td></tr>
    <tr><td class="paramname">min_interval</td><td>[in] Time between fixes in milliseconds </td></tr>
    <tr><td class="paramname">pref_accuracy</td><td>[in] Preferred fix accyracy in meters frequency in seconds </td></tr>
    <tr><td class="paramname">pref_time</td><td>[in] Requested time to first fix in ms (Ignored by swigps) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The min_interval argument is used to set the timer thread's fix frequency as well as being sent to the modem's Position Determination Service (PDS) as the "interval" argument. The gps_timer_thread within the swigps package acts as a filter by sleeping for the duration of the interval and this ensures reports are send at the requested rate even if the modem sends reports more frequently. Might be able to improve this once we understand the modem's behaviour better</dd></dl>
<p>The main GPS state thread can be changed for Gingerbread+ by not needing to request the default PDS settings at startup because all the settings (except timeout) are received by this interface function</p>
<p>There are two bandaids below, marked with TODO and commented. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="aa604eb941e349b6869cb53d74f87d0e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const AGpsInterface swiAgpsInterface</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="keyword">sizeof</span>( AGpsInterface ),</div>
<div class="line">    <a class="code" href="swigps_8c.html#acd73b17f40555df168a440237de72d53">swiagps_init</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#af6152c6f97634d91722cdacba3ead61c">swiagps_open</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#ad18997f56a42d9bf9813ef0c59915789">swiagps_closed</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#af31c77c1e35ad66f611e98650298ed01">swiagps_failed</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#afbb1732d14cd3d79967a1a1e61ba112a">swiagps_set_server</a> </div>
<div class="line">}</div>
<div class="ttc" id="swigps_8c_html_afbb1732d14cd3d79967a1a1e61ba112a"><div class="ttname"><a href="swigps_8c.html#afbb1732d14cd3d79967a1a1e61ba112a">swiagps_set_server</a></div><div class="ttdeci">int swiagps_set_server(AGpsType type, const char *hostname, int port)</div><div class="ttdoc">Method to set the AGPS server information - gets sent to the modem. </div><div class="ttdef"><b>Definition:</b> swigps.c:2931</div></div>
<div class="ttc" id="swigps_8c_html_ad18997f56a42d9bf9813ef0c59915789"><div class="ttname"><a href="swigps_8c.html#ad18997f56a42d9bf9813ef0c59915789">swiagps_closed</a></div><div class="ttdeci">int swiagps_closed(void)</div><div class="ttdoc">Method to indicate to the Vendor-specific GPS engine that the data connection has been closed...</div><div class="ttdef"><b>Definition:</b> swigps.c:2905</div></div>
<div class="ttc" id="swigps_8c_html_acd73b17f40555df168a440237de72d53"><div class="ttname"><a href="swigps_8c.html#acd73b17f40555df168a440237de72d53">swiagps_init</a></div><div class="ttdeci">void swiagps_init(AGpsCallbacks *callbacks)</div><div class="ttdoc">Method to initialize the AGPS subsystem within the vendor-specific GPS engine. </div><div class="ttdef"><b>Definition:</b> swigps.c:2882</div></div>
<div class="ttc" id="swigps_8c_html_af6152c6f97634d91722cdacba3ead61c"><div class="ttname"><a href="swigps_8c.html#af6152c6f97634d91722cdacba3ead61c">swiagps_open</a></div><div class="ttdeci">int swiagps_open(const char *apn)</div><div class="ttdoc">Method to indicate to the Vendor-specific GPS engine that the requested data connection has been open...</div><div class="ttdef"><b>Definition:</b> swigps.c:2893</div></div>
<div class="ttc" id="swigps_8c_html_af31c77c1e35ad66f611e98650298ed01"><div class="ttname"><a href="swigps_8c.html#af31c77c1e35ad66f611e98650298ed01">swiagps_failed</a></div><div class="ttdeci">int swiagps_failed(void)</div><div class="ttdoc">Method to indicate to the AGPS interface that a requested data connection attempt has failed...</div><div class="ttdef"><b>Definition:</b> swigps.c:2917</div></div>
</div><!-- fragment -->
<p>Contains pointers to interface functions as prescribed by gps.h in typedef "AGpsInterface". </p>
<p>See individual function headers for additional information </p>

</div>
</div>
<a class="anchor" id="a15f5f57315813f8d36b0ea2c7a39890c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const GpsInterface swiGpsInterface</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    <span class="keyword">sizeof</span>( GpsInterface ),</div>
<div class="line">    <a class="code" href="swigps_8c.html#a91ca55c21150057105556e43ec85ee1c">swigps_init</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#a64f45a057387db8736d0faf5ccd260a9">swigps_start</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#a86a071ad6d21851eda669d13d6662b6a">swigps_stop</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#a3e9162aac9da1bf1ca82873a4ae7f372">swigps_cleanup</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#a5e636415081731c9da08fa7b57959d85">swigps_inject_time</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#a92eb984ed5eed1a572b8c241c6ac4e9b">swigps_inject_location</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#a93b2097777ac004212b465240277779f">swigps_delete_aiding_data</a>,</div>
<div class="line">    <a class="code" href="swigps__gingerplus_8c.html#a65fa529eda3a8930cdf32c7eacba7197">swigps_set_position_mode</a>,</div>
<div class="line">    <a class="code" href="swigps_8c.html#ab37f87ff6592c8d3fe85a5a6e53075e7">swigps_get_extension</a>,</div>
<div class="line">}</div>
<div class="ttc" id="swigps_8c_html_a91ca55c21150057105556e43ec85ee1c"><div class="ttname"><a href="swigps_8c.html#a91ca55c21150057105556e43ec85ee1c">swigps_init</a></div><div class="ttdeci">int swigps_init(GpsCallbacks *callbacks)</div><div class="ttdoc">Opens the interface and assigns the caller&#39;s callback function pointers through this interface...</div><div class="ttdef"><b>Definition:</b> swigps.c:2648</div></div>
<div class="ttc" id="swigps_8c_html_a86a071ad6d21851eda669d13d6662b6a"><div class="ttname"><a href="swigps_8c.html#a86a071ad6d21851eda669d13d6662b6a">swigps_stop</a></div><div class="ttdeci">int swigps_stop(void)</div><div class="ttdoc">Stop sending fixes to the higher-layer applications. </div><div class="ttdef"><b>Definition:</b> swigps.c:2732</div></div>
<div class="ttc" id="swigps_8c_html_ab37f87ff6592c8d3fe85a5a6e53075e7"><div class="ttname"><a href="swigps_8c.html#ab37f87ff6592c8d3fe85a5a6e53075e7">swigps_get_extension</a></div><div class="ttdeci">const void * swigps_get_extension(const char *name)</div><div class="ttdoc">Get a pointer to extension information. </div><div class="ttdef"><b>Definition:</b> swigps.c:2998</div></div>
<div class="ttc" id="swigps_8c_html_a3e9162aac9da1bf1ca82873a4ae7f372"><div class="ttname"><a href="swigps_8c.html#a3e9162aac9da1bf1ca82873a4ae7f372">swigps_cleanup</a></div><div class="ttdeci">void swigps_cleanup(void)</div><div class="ttdoc">Closes all opened resources, terminates active threads and terminates the GPS session. </div><div class="ttdef"><b>Definition:</b> swigps.c:2765</div></div>
<div class="ttc" id="swigps_8c_html_a64f45a057387db8736d0faf5ccd260a9"><div class="ttname"><a href="swigps_8c.html#a64f45a057387db8736d0faf5ccd260a9">swigps_start</a></div><div class="ttdeci">int swigps_start(void)</div><div class="ttdoc">Starts the GPS receiver obtaining fixes. </div><div class="ttdef"><b>Definition:</b> swigps.c:2686</div></div>
<div class="ttc" id="swigps__gingerplus_8c_html_a65fa529eda3a8930cdf32c7eacba7197"><div class="ttname"><a href="swigps__gingerplus_8c.html#a65fa529eda3a8930cdf32c7eacba7197">swigps_set_position_mode</a></div><div class="ttdeci">static int swigps_set_position_mode(GpsPositionMode mode, GpsPositionRecurrence recurrence, uint32_t min_interval, uint32_t pref_accuracy, uint32_t pref_time)</div><div class="ttdoc">Allows the application to configure the GPS engine in the modem, specifying various parameters...</div><div class="ttdef"><b>Definition:</b> swigps_gingerplus.c:225</div></div>
<div class="ttc" id="swigps_8c_html_a93b2097777ac004212b465240277779f"><div class="ttname"><a href="swigps_8c.html#a93b2097777ac004212b465240277779f">swigps_delete_aiding_data</a></div><div class="ttdeci">void swigps_delete_aiding_data(GpsAidingData flags)</div><div class="ttdoc">A method to erase all stored aids for the interface which may have been injected during a recent runn...</div><div class="ttdef"><b>Definition:</b> swigps.c:2846</div></div>
<div class="ttc" id="swigps_8c_html_a92eb984ed5eed1a572b8c241c6ac4e9b"><div class="ttname"><a href="swigps_8c.html#a92eb984ed5eed1a572b8c241c6ac4e9b">swigps_inject_location</a></div><div class="ttdeci">int swigps_inject_location(double latitude, double longitute, float accuracy)</div><div class="ttdoc">Method to inject a rough location into the GPS engine to assist with reducing the time to first fix...</div><div class="ttdef"><b>Definition:</b> swigps.c:2827</div></div>
<div class="ttc" id="swigps_8c_html_a5e636415081731c9da08fa7b57959d85"><div class="ttname"><a href="swigps_8c.html#a5e636415081731c9da08fa7b57959d85">swigps_inject_time</a></div><div class="ttdeci">int swigps_inject_time(GpsUtcTime time, int64_t timeReference, int uncertainty)</div><div class="ttdoc">Method to inject time into the GPS engine which can be used to provide a shorter time to first fix...</div><div class="ttdef"><b>Definition:</b> swigps.c:2800</div></div>
</div><!-- fragment -->
<p>Contains pointers to interface functions as prescribed by gps.h in typedef "GpsInterface". </p>
<p>See individual function headers for additional information </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 11 2017 08:56:10 for Sierra RIL by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
